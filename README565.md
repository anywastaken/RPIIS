# Лабораторная работа 5

---

**Цель:** Освоить командные оболочки shell для OS семейства Unix и cmd для OS семейства MS Windows:
* изучить основные встроенные команды,
* научиться писать файлы сценариев,
* научиться соотносить командные оболочки для разных OS.
Освоить командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.

## Задание:
Создать файл sh и bat, который выполняет следующее: 
На вход пакетному файлу приходит два абсолютных пути к текстовым файлам. Сравнить указанные файлы, определив одинаковое ли число строк в каждом из них.
Если одинаковое вывести сообщение в консоль “Количество строк одинаковое”. 
Если разное, то вывести сообщение в консоль “Количество строк разное”и сравнить эти файлы на предмет количества слов. 
Если одинаковое - вывести сообщение “Количество слов одинаковое”, если нет вывести сообщение “Количество слов разное” и завершить выполнение программы через 7 секунд.

### Основные команды:
#### Для sh файла:
 * echo "Описание сравнени"
 * if
 * wc

#### Для bat файла:
 * set 
 * if
 * for
 * echo Описание сранения
 * find

### Мой вариант выполненной работы.
**sh файл**
```
#!/bin/bash

# Проверка наличия двух аргументов
if [ "$#" -ne 2 ]; then
    echo "Использование: $0 <путь_к_файлу1> <путь_к_файлу2>"
    exit 1
fi

file1="$1"
file2="$2"

# Проверка существования файлов
if [ ! -f "$file1" ] || [ ! -f "$file2" ]; then
    echo "Один или оба файла не существуют."
    exit 1
fi

# Подсчет строк в файлах
lines1=$(wc -l < "$file1")
lines2=$(wc -l < "$file2")

if [ "$lines1" -eq "$lines2" ]; then
    echo "Количество строк одинаковое"
else
    echo "Количество строк разное"
    
    # Подсчет слов в файлах
    words1=$(wc -w < "$file1")
    words2=$(wc -w < "$file2")
    
    if [ "$words1" -eq "$words2" ]; then
        echo "Количество слов одинаковое"
    else
        echo "Количество слов разное"
    fi
    
    # Завершение программы через 7 секунд
    sleep 7
fi

```
Переменные: file1,file2 - имя файлов   
            lines1,lines2-количество строк в файле  
            words1,words2-количество слов в файле

Чтобы создать sh file необходимо:
В консоли ввести: 
```./compare_files.sh /absolute/path/to/file1.txt /absolute/path/to/file2.txt```

**bat файл**

```
@echo off
setlocal enabledelayedexpansion

:: Проверка наличия двух аргументов
if "%~1"=="" (
    echo Использование: %0 ^<путь_к_файлу1^> ^<путь_к_файлу2^>
    exit /b 1
)
if "%~2"=="" (
    echo Использование: %0 ^<путь_к_файлу1^> ^<путь_к_файлу2^>
    exit /b 1
)

set "file1=%~1"
set "file2=%~2"

:: Проверка существования файлов
if not exist "!file1!" (
    echo Один или оба файла не существуют.
    exit /b 1
)
if not exist "!file2!" (
    echo Один или оба файла не существуют.
    exit /b 1
)

:: Подсчет строк в файлах
for /f %%A in ('find /c /v "" ^< "!file1!"') do set lines1=%%A
for /f %%A in ('find /c /v "" ^< "!file2!"') do set lines2=%%A

if !lines1! equ !lines2! (
    echo Количество строк одинаковое
) else (
    echo Количество строк разное

    :: Подсчет слов в файлах
    for /f %%A in ('find /v "" ^< "!file1!" ^| find /c /v ""') do set words1=%%A
    for /f %%A in ('find /v "" ^< "!file2!" ^| find /c /v ""') do set words2=%%A

    if !words1! equ !words2! (
        echo Количество слов одинаковое
    ) else (
        echo Количество слов разное
    )

    :: Завершение программы через 7 секунд
    timeout /t 7 >nul
)

```
Переменные: file1,file2 - имя файлов 

Чтобы создать bat file необходимо: 
В консоли вввеисти :
``` compare_files.bat C:path\to\file1.txt C:path\to\file2.txt```
compare_files.bat-имя бат файла
