# ЛР5
Вариант 49
Создать файл sh и bat, который выполняет следующее:

На вход пакетному файлу приходит два числа (как параметры пакетного файла). Создать файл, в который записать все имена процессов в алфавитном порядке, размер используемой памяти которых находится в заданном диапазоне.
## Цель работы:
---
1) Освоить командные оболочки shell (для OS семейства Unix) и cmd (для OS семейства MS Windows):

изучить основные встроенные команды,

научиться писать файлы сценариев,

научиться соотносить командные оболочки для разных OS.

2) Освоить командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.
## Ход работы:
---
Используя материалы в интернете, я написала скрипты под windows и linux.
*Для Linux:*

<p  align="center">
    <img src="skrin1.jpg" width ""height"" >
</p>

Основные использованные команды:
**#!/bin/bash** : Указывает, что скрипт должен выполняться с помощью интерпретатора bash.

**if [ "$#" -ne 2 ]; then ... fi** : Проверяет, переданы ли два аргумента. Если нет, выводит сообщение об использовании и завершает выполнение.

**min_memory=\$1 и max_memory=\$2**: Присваивает значения аргументов переменным min_memory и max_memory.
**output_file="processes.txt"** : Устанавливает имя выходного файла.
**"$output_file"** : Очищает файл, если он уже существует, или создает новый.

**ps -eo pmem,comm** : Получает список всех процессов с их использованием памяти (в процентах) и именем.

**awk -v min="$min_memory" -v max="$max_memory" '\$1 >= min && \$1 <= max {print \$2}'** : Фильтрует процессы по диапазону использования памяти и выводит только имена процессов.

**sort | uniq** : Сортирует имена процессов в алфавитном порядке и удаляет дубликаты.

**"$output_file"** : Записывает результат в файл processes.txt.

**echo ...** : Выводит сообщение о завершении работы скрипта.
Для запуска скрипта на Linux необходимо выполнить следующие действия:

---
- Открыть терминал
  
- Перейти в директорию, содержащую данный скрипт (cd путь/к/папке)
  
- Воспользоваться следующей командой: bash "название_скрипта.sh" "передаваемые_параметры" (если таковы необходимы)

---
*Для Windows:*

<p  align="center">
    <img src="D:\УЧЁБА\ПиОИвИС\5 лаба\skrin3.jpg" width ""height"" >
</p>

Основные использованные команды:

**if "%~2"=="" ...** : Проверяет, переданы ли два аргумента. Если нет, выводит сообщение об использовании и завершает выполнение.

**set min_memory=%1 и set max_memory=%2** : Присваивает значения аргументов переменным min_memory и max_memory.

set output_file=processes.txt: Устанавливает имя выходного файла.

**"%output_file%" ( )** : Очищает файл, если он существует, или создает новый.

**for /f "skip=1 tokens=1,2" %%a in ('tasklist /fo csv /nh') do ...** : Получает список процессов с помощью tasklist, пропуская заголовок и извлекая имя процесса и используемую память.

**setlocal enabledelayedexpansion** : Включает расширение переменных для работы с переменными внутри цикла.

**if !mem! geq %min_memory% if !mem! leq %max_memory% echo %%~a** : Проверяет, находится ли использованная память в заданном диапазоне, и выводит имя процесса, если это так.

**| sort > "%output_file%"** : Сортирует имена процессов в алфавитном порядке и записывает их в файл processes.txt.

**echo ...** : Выводит сообщение о завершении работы скрипта

---
Запуск скрипта bat:
Для того, чтобы запустить скрипт bat необходимо выполнить следующие действия:

- Нажать сочетание клавиш Win + R;
- В появившемся окне написать cmd и нажать enter;
- В открывшейся консоли перейти к папке, в которой хранится скрипт (cd путь\к\папке)
- Вписать "название_скрипта.bat", пробел, "Название_папки".
@echo off: Отключает вывод команд в консоль, чтобы сделать вывод более чистым.
---
Вывод:
В результате данной лабораторной работы мне удалось выполнить свой вариант на bat и sh, а также узнать основную информацию о скриптах.
