# Лабораторная работа №5
## Цель:
[Освоить командные оболочки shell (для OS семейства Unix) и cmd (для OS семейства MS Windows):

Изучить основные встроенные команды,
Научиться писать файлы сценариев,
Научиться соотносить командные оболочки для разных OS.
Освоить командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.


]



##Условия задания
[35 Создать файл sh и bat, который выполняет следующее:

На вход пакетному файлу приходит путь к каталогу (как параметр пакетного файла). Если такой

Папки нет, то писать “Данной папки нет” и завершить выполнение программы. Если такая папка

Есть, то найти в заданном каталоге и всех его подкаталогах все файлы заданного размера и

Принадлежащие определенному пользователю. Диапазон (min – max) размеров файлов задаётся

Пользователем в качестве второго и третьего параметра пакетного файла. Имя владельца

Задается пользователем в качестве четвертого параметра пакетного файла. Скрипт выводит

Результаты поиска в файл в виде «полный путь, имя файла, его размер», в конец файла выводится

общее число просмотренных файлов
]





##Bash файл
### Код
[#!/bin/bash

# Проверка количества параметров
If [ «$#» -ne 4 ]; then
    Echo «Использование: $0 <каталог> <min_size> <max_size> <владелец>»
    Exit 1
Fi

Dir=»$1»
Min_size=»$2»
Max_size=»$3»
Owner=»$4»

# Проверка существования каталога
If [ ! -d «$dir» ]; then
    Echo «Данной папки нет»
    Exit 1
Fi

# Поиск файлов и вывод результатов
Find «$dir» -type f -size +$min_sizec -size -$max_sizec -user «$owner» -exec ls -ld {} \; > results.txt
Total_files=$(find «$dir» -type f | wc -l)
Echo «Общее число просмотренных файлов: $total_files» >> results.txt
]





##Batch файл
### Код
[@echo off

If «%~4»==»» (
    Echo Использование: %~nx0 ^<каталог^> ^<min_size^> ^<max_size^> ^<владелец^>
    Exit /b 1
)

Set «dir=%~1»
Set «min_size=%~2»
Set «max_size=%~3»
Set «owner=%~4»

If not exist «%dir%» (
    Echo Данной папки нет
    Exit /b 1
)

For /r «%dir%» %%F in (*) do (
    For /f «delims=» %%S in ('wmic where «Path='%%F'» get Size /value') do set «size=%%S»
    For /f «delims=» %%U in ('wmic where «Path='%%F'» get Owner /value') do set «file_owner=%%U»

    Set /a «size_int=%size:~0,-2%»
    If %size_int% GEQ %min_size% if %size_int% LEQ %max_size% if «%file_owner:~0,-1%»==»%owner%» (
        Echo «%%F», «%%~nxF», «%size%»
    )
)

For /f «delims=» %%F in ('dir /b /a-d «%dir%»') do set /a «total_files+=1»
Echo Общее число просмотренных файлов: %total_files% >> results.txt
]




##Выводы:
[В ходе выполнения лабораторной работы по освоению командных 
оболочек cmd (для операционных систем семейства MS Windows) и shell 
(для операционных систем семейства Unix) были получены практические навыки 
работы с консольными программами и командами в различных операционных системах.]
