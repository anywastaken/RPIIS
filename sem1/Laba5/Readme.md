# Лабораторная работа №5

## Цель работы:
-  Освоить командные оболочки *shell* (для OS семейства Unix) и *cmd* (для OS семейства MS Windows):
    - изучить основные встроенные команды,
    - научиться писать файлы сценариев,
    - научиться соотносить командные оболочки для разных OS.
-  Освоить командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.

## Задача:
-  Познакомиться с консольными программными окружениями OS Windows и OS Linux.
-  Получить практические навыки работы в консоли, использования консольных команд.
-  Выполнить выданный преподавателем вариант задания.

## Указания к выполнению:
Для получения помощи используйте
1. `help` в cmd.exe
2. `help` , `man`, `info` в Linux и `<имя команды> ­­help`.

## Мой вариант:
### **69** Создать файл sh и bat, который выполняет следующее: 
На вход пакетному файлу приходит путь к папке и формат файла (например, txt)(как параметры пакетного файла). Папка должна содержать различные файлы. Если такой папки нет, то писать “Данной папки нет” и завершить выполнение программы. Если такая папка есть, то найти в ней и в ее подпапках все файлы заданного расширения, для которых установлен атрибут “скрытый”. Количество таких файлов вывести в консоль.


## Выполнение работы на WINDOWS(BATCH)
```echo off```: Отключает отображение команд.

• ```if not exist "%~1"```: Проверяет, существует ли директория, указанная в первом аргументе (%~1).

• ```for /r "%~1" %%a in (*.%~2)```: Перебирает все файлы с указанным расширением (%~2) в заданной директории и её поддиректориях.

• ```if attrib "%%a" 2>&nul find "H"```: Проверяет, установлен ли атрибут "скрытый" ("H") для текущего файла. 2>&nul перенаправляет ошибки, чтобы избежать сообщений, если файл не существует.

• ```set /a count+=1```: Увеличивает счетчик.

• echo Найдено скрытых файлов с расширением %~2: !count!: Выводит результат.


## Выполнение работы на LINUX(BASH)

• ```#!/bin/bash```: Указывающий строка, определяющая интерпретатор.

• ```if [ ! -d "$1" ]```: Проверяет, существует ли директория, указанная в первом аргументе ($1).

• ```count=0```: Инициализирует счетчик.

• ```find "$1" -name "*.$2" -type f -print0```: Находит все файлы с указанным расширением ($2) в заданной директории и её поддиректориях. -print0 используется для имён файлов с пробелами или специальными символами.

• ```while IFS= read -r -d $'\0' file```: Читает имена файлов, разделенные нулевым символом, из find.

• ```if [ -f "$file" ] && [ $(stat -c %A "$file") == H ]```: Проверяет, существует ли файл и установлен ли атрибут "скрытый". stat -c %A получает атрибуты файла.
• ```count=$((count + 1))```: Увеличивает счетчик.

• ```echo "Найдено скрытых файлов с расширением $2: $count"```: Выводит результат.

### Вывод

В процессе выполнения работы я:
-    Освоил командные оболочки shell (для OS семейства Unix) и cmd (для OS семейства MS Windows)
-    Освоил командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.
-    Создал скрипты на **Bash** и **Batch**, которые выполняют мой вариант задания.

