# Лабораторная работа №5
![Скрипт хакера]()
## Цели:
- Познакомиться с теоретической информацией о скриптах
- Познакомиться с синтаксисом скриптов bat и sh
- Выполнить выданный вариант лабораторной работы по выполнению скрипта
## Вариант лабораторной работы
Для выполнения лабораторной работы мне был выдан вариант 36 из [Google Disk](https://docs.google.com/document/d/1tXtgo5lmXXqKtmLP_zxZdqtialix6AT0hfbyLE4rFS8/edit?tab=t.0)\
**Вариант 36:**\
**Создать файл sh и bat, который выполняет следующее:**
* На вход пакетному файлу приходит число (как параметр пакетного файла). Требуется создать текстовый файл размера, заданного параметром (в байтах). Затем создать количество папок, вложенных друг в друга иерархически, равное числу символов в созданном файле, умноженное на сумму, получившуюся в результате сложения чисел, взятых из времени создания файла |MM-HH| (значение по модулю). В каждой папке создать по одному файлу с именем времени создания файла в формате HH_MM.
## Выполнение лаборатной работы
Скрипт, *или сценарий* - последовательность команд, инструкций на сценарном языке, обычно использующаяся для автоматизации рутинных задач.\
Скрипты могут писаться на различных языках от **Bash** и **Powershell(bat)** до **Javascript,Python,PHP**\
Для написания скрипта на *bash* я использовал текстовый редактор *nano*,так как он прост, удобен и надежен, однако можно использовать *vim* или другие аналоги. А для написания скрипта на *bat* я использовал стандартный редактор текста *Windows*
## Сферы применения
- **Веб-разработка**\
	Создание динамических элементов на веб-страницах, валидация форм, анимации и многое другое
- **Анализ данных**\
    Обработка и анализ больших объемов информации, создание графиков и отчетов на основе данных
- **Автоматизация задач**\
	Написание скриптов для автоматизации повседневных задач, упрощение рутинных действий на компьютере
- **Игровая индустрия**\
    Создание интерактивных игр, управление поведением игровых объектов, разработка игровой логики
- **Научные исследования**\
	Моделирование процессов, обработка экспериментальных данных, создание специализированных инструментов для исследований
## Пример скрипта sh
```
# Это комментарий
# Команда ниже называется shebang он должен обязательно быть для того чтобы файл считался скриптом
#!/bin/bash
if [ $# -ne 1 ]; then
    echo "Неверное количество аргументов! Укажите размер файла в байтах."
    exit 1
fi
file_size=$1
# Команда ниже создает файл заданного размера, копируя из файла-шаблона text_template символы (единицы) в новый файл generated_file заданное количество символов
dd if=text_template.txt of=generated_file.txt bs=1 count=$file_size
# В двух строках ниже мы создаем переменные и задаем им значения минут и часов создание файла generated_file(cut -d разрезает строку на слова по заданному разделителю и выбирает слово по заданному номеру)
minutes=$(stat -f "%SB" generated_file.txt|cut -d ":" -f 2)
hours=$(stat -f "%SB" generated_file.txt|cut -d " " -f 3|cut -d ":" -f 1)
if [ "$hours" -lt "$minutes" ]; then
    mod_value_h_m=$((10#$minutes - 10#$hours))
else
    mod_value_h_m=$((10#$hours - 10#$minutes))
fi
number_of_directories=$((mod_value_h_m*file_size))
for ((i=1;i<=number_of_directories;i++))
do
	path_dir="./$i"
	mkdir -p "$path_dir"
	cd "./$i"
	touch "$hours"_"$minutes.txt"
done
echo "Гатово"
```
## Пример работы скрипта sh
Команда для запуска скрипта в консоли(2 это параметр передаваемые скрипту)
```
./myscript.sh 2
```
Созданный файл\
![Свойства созданного файла]()\
Структура созданных папок\
![Дерево созданных вложенных папок]()
## Пример скрипта bat
```
REM Это комментарий
:: И это тоже комментарий
@echo off
set size=%1
if "%size%"=="" (
  echo Ne zadan parametr razmer of file!
  exit /b
)
REM Строка ниже создает файл заданного размера, заполняя его пустыми символами каждый размером 1байт
fsutil file createnew generated_file.txt %size%
REM Строка ниже задает переменным значение часов и минут, разделяя строку заданными разделителями
for /f "tokens=1-5 delims=.: " %%j in ('
 dir/a-d/tc ".\generated_file.txt"^| findstr/rc:"^[^ ]"
') do (
  set /a hours=%%m
  set /a minutes=%%n
)
if "%hours%" lss "%minutes%" (
  set /a mod_val=%minutes% - %hours%
) else (
set /a mod_val=%hours%-%minutes%
)
set /a num_dir=%mod_val%*%size%
echo %num_dir%
REM Строки ниже создают папки рекурсивно и в каждой папке создает файл с названием HH_MM часов и минут создания файла generated_file
for /L %%i in (1,1,%num_dir%) do (
  md %%i
  cd %%i
  echo. > "%hours%"_"%minutes%"
)
```
## Пример работы скрипта bat
Команда для запуска скрипта в консоли(5 это параметр передаваемые скрипту)
```
myscript.bat 5
```
Созданный файл\
![Свойства созданного файла]()\
Структура созданных папок\
![Дерево созданных вложенных папок]()
## Выводы
Я познакомился с теоретическими сведениями о скриптах, а также реализовал свой вариант скрипта sh и bat.
## Ресурсы для обучения скриптам
[Список команд для bat/cmd](https://www.celitel.info/klad/bathelp/list_comm.htm)\
[Bash-скрипты: начало](https://habr.com/en/companies/ruvds/articles/325522/)\
[Шпаргалка по написанию bash-скриптов1](https://gist.github.com/Titiaiev/dcb7298389d1276b823bbc96e29f940d)\
[Шпаргалка по написанию bash-скриптов2](https://devhints.io/bash)\
[Выучите Х за Y минут,где Х=Bash](https://learnxinyminutes.com/docs/bash/)
