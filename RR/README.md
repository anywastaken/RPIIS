# Расчетная работа 

## Введение

### Цели: 
научится работать с графами, создавать программы определяющие виды графов

### Задача: 
Проверить является ли граф графом Паппа

### Вариант: 
1.2 (матрица инциндентности)

### Определения:

`Матрица инцидентности` — одна из форм представления графа, в которой указываются связи между инцидентными элементами графа (ребро(дуга) и вершина). Столбцы матрицы соответствуют ребрам, строки — вершинам. Ненулевое значение в ячейке матрицы указывает связь между вершиной и ребром (их инцидентность).

`Граф` — математическая абстракция реальной системы любой природы, объекты которой обладают парными связями. Граф как математический объект есть совокупность двух множеств — множества самих объектов, называемого множеством вершин, и множества их парных связей, называемого множеством рёбер. Элемент множества рёбер есть пара элементов множества вершин.

`Инцидентность` — понятие, используемое только в отношении ребра и вершины. Две вершины или два ребра не могут быть инцидентны.

`Граф Паппа` - двудольный 3-регулярный неориентированный граф с 18 вершинами и 27 рёбрами. Является единственным кубическим симметричным графом с 18 вершинами
 ![image](https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Pappus_graph_LS.svg/548px-Pappus_graph_LS.svg.png)

`Кубический граф` - граф, в котором все вершины имеют степень три.


 ![image](https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Petersen1_tiny.svg/440px-Petersen1_tiny.svg.png)

 
### Алгоритм:
1.	Выбрать файл с матрицей инцидентности и открыть его
2.	Посчитать количество элементов и строк в файле
3.  Проверка размеров матрицы: матрица имеет n строк (число вершин) и m столбцов (число рёбер).
4  Проверка значений матрицы: все элементы матрицы принадлежат множеству {0,1}\{0, 1\}{0,1}, если же матрица содержит иные числа, то вывести на экран «Матрица должна состоять из 0 и 1»
5.  Проверка столбцов: каждый столбец должен содержать ровно 2 единицы, если же нет, то вывести на экран «Каждый столбец должен содержать ровно 2 единицы»
Если числа совпадают, перейти к пункту 6
6.	Создать матрицу MxN, где N – кол-во строк, а M количество столбцов и считать данные с файла в эту матрицу
7.	Проверить правдиво ли то, что N=18
8.	Проверить на правильность матрицы: чтобы элемент аij = aji
9.	Проверить на то, чтобы каждая вершина имела ровно 3 связи
10.	Вывести матрицу инцидентности
11.	Вывести на экран является или нет этот граф графом Паппа
 ## Код программы:
```cpp
#include <iostream>
#include <fstream>

using namespace std;

int main() {
    setlocale(LC_ALL, "rus");

    // Ввод имени файла
    string nameOfFile;
    int numberOfGraph;
    cout << "Введите номер файла, где хранится граф: ";
    cin >> numberOfGraph;

    switch (numberOfGraph) {
    case 1: nameOfFile = "graph.txt"; break;
    case 2: nameOfFile = "graph2.txt"; break;
    case 3: nameOfFile = "graph3.txt"; break;
    case 4: nameOfFile = "graph4.txt"; break;
    case 5: nameOfFile = "graph5.txt"; break;
    default:
        cout << "Некорректный номер файла." << endl;
        return 0;
    }

    ifstream fin(nameOfFile);
    if (!fin.is_open()) {
        cout << "Не удалось открыть файл!" << endl;
        return 0;
    }

    // Подсчёт строк (вершин) и столбцов (рёбер)
    const int MAX_ROWS = 100, MAX_COLS = 100; // Максимальные размеры
    int matrix[MAX_ROWS][MAX_COLS] = { 0 };     // Матрица инцидентности
    int rowCount = 0, colCount = 0;

    char temp;
    int value, colInRow = 0;
    bool hasError = false;  // Флаг ошибок

    // Флаги для каждого типа ошибки
    bool sizeError = false, matrixValueError = false, columnValueError = false,
        rowCountError = false, connectivityError = false, edgeCountError = false;

    while (fin.get(temp)) {
        if (temp == '0' || temp == '1') {
            value = temp - '0';
            matrix[rowCount][colInRow++] = value;
        }
        else if (temp == '\n') {
            if (rowCount == 0) {
                colCount = colInRow; // Запоминаем количество столбцов после первой строки
            }
            else if (colInRow != colCount) {
                if (!sizeError) {
                    cout << "Матрица имеет некорректные размеры!" << endl;
                    sizeError = true;
                }
            }
            rowCount++;
            colInRow = 0;
        }
    }
    if (colInRow > 0) { // Для последней строки без перевода строки
        if (rowCount == 0) {
            colCount = colInRow;
        }
        else if (colInRow != colCount) {
            if (!sizeError) {
                cout << "Матрица имеет некорректные размеры!" << endl;
                sizeError = true;
            }
        }
        rowCount++;
    }
    fin.close();

    // Вывод размера матрицы
    cout << "Размер матрицы: " << rowCount << "x" << colCount << endl;

    // Вывод матрицы инцидентности в начале
    cout << "Матрица инцидентности:" << endl;
    for (int i = 0; i < rowCount; i++) {
        for (int j = 0; j < colCount; j++) {
            cout << matrix[i][j] << " ";
        }
        cout << endl;
    }

    // Проверка значений матрицы (0 или 1)
    for (int i = 0; i < rowCount; i++) {
        for (int j = 0; j < colCount; j++) {
            if (matrix[i][j] != 0 && matrix[i][j] != 1) {
                if (!matrixValueError) {
                    cout << "Матрица должна состоять из 0 и 1!" << endl;
                    matrixValueError = true;
                }
            }
        }
    }

    // Проверка каждого столбца (должен содержать ровно 2 единицы)
    for (int j = 0; j < colCount; j++) {
        int onesCount = 0;
        for (int i = 0; i < rowCount; i++) {
            if (matrix[i][j] == 1) {
                onesCount++;
            }
        }
        if (onesCount != 2) {
            if (!columnValueError) {
                cout << "Каждый столбец должен содержать ровно 2 единицы!" << endl;
                columnValueError = true;
            }
        }
    }

    // Проверка количества строк (вершин)
    if (rowCount != 18) {
        if (!rowCountError) {
            cout << "Матрица должна содержать ровно 18 строк (вершин)!" << endl;
            rowCountError = true;
        }
    }

    // Проверка кубичности (каждая вершина имеет ровно 3 связи)
    for (int i = 0; i < rowCount; i++) {
        int connections = 0;
        for (int j = 0; j < colCount; j++) {
            if (matrix[i][j] == 1) {
                connections++;
            }
        }
        if (connections != 3) {
            if (!connectivityError) {
                cout << "Каждая вершина должна иметь ровно 3 связи!" << endl;
                connectivityError = true;
            }
        }
    }

    // Проверка количества рёбер
    if (colCount != 27) {
        if (!edgeCountError) {
            cout << "Матрица должна содержать ровно 27 столбцов (рёбер)!" << endl;
            edgeCountError = true;
        }
    }

    // Если хотя бы одна ошибка была выведена
    if (sizeError || matrixValueError || columnValueError || rowCountError ||
        connectivityError || edgeCountError) {
        cout << "Это не граф Паппа!" << endl;
    }
    else {
        cout << "Этот граф - граф Паппа!" << endl;
    }

    return 0;
}

```
 ## Содержимое файлов:
 ### graph.txt
```
1 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 1 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 1 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 1 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0
1 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0
0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0
0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0
0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
1 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0
0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0
0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0
```
 ### graph2.txt
```
1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1
1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0
0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0
0 0 1 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0
0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0
0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0
0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1
```
 ### graph3.txt
```
1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0
1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0
0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0
0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0
0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0
0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0
```
 ### graph4.txt
```
0 1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0
1 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
0 1 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0
0 0 1 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0
0 0 0 1 0 1 0 0 0 0 1 0 0 0 0 0 0 0
1 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0
1 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1
0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0
0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0
0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0
1 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0
1 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1
0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0
0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0
0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 0
0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1
0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 1 0
```
 ### graph5.txt
```
0 0 0 0 0 0 0 1 0 0 0 1 1 0
0 0 0 0 0 0 1 0 1 0 0 0 0 1
0 0 0 0 0 0 0 1 0 1 0 0 0 0
0 0 0 0 0 0 0 0 1 0 1 0 0 0
0 0 0 0 0 0 0 0 0 1 0 1 0 0
0 0 0 0 0 0 1 0 0 0 1 0 0 0
0 1 0 0 0 1 0 0 0 1 0 0 0 0
1 0 1 0 0 0 0 0 0 0 1 0 0 0
0 1 0 1 0 0 0 0 0 0 0 1 0 0
0 0 1 0 1 0 1 0 0 0 0 0 0 0
0 0 0 1 0 1 0 1 0 0 0 0 0 0
1 0 0 0 1 0 0 0 1 0 0 0 0 0
1 0 0 0 0 0 0 0 0 0 0 0 0 1
```
 ## Пример работы кода
 
