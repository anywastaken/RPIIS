# Лабораторная работа 5

---

**Цель:** Освоить командные оболочки shell для OS семейства Unix и cmd для OS семейства MS Windows:
* изучить основные встроенные команды,
* научиться писать файлы сценариев,
* научиться соотносить командные оболочки для разных OS.
Освоить командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.

## Задание:
Создать файл sh и bat, который выполняет следующее: 
На вход пакетному файлу приходит число и название папки (как параметры пакетного файла). 
Создать папку с таким названием. В созданной папке создать файлы, количеством равным 
переданному на вход пакетному файлу числу. Названия файлов должно быть случайным (явно 
название не должно указываться). В каждый 3-й файлы записать фразу «Hello World».

### Основные команды:
#### Для sh файла:
 * echo "..."
 * cd "..." || exit
 * touch 

#### Для bat файла:
 * type nul>
 * pushd ... popd
 * set /a number

### Мой вариант выполненной работы.
**bat файл**
```
@echo off
setlocal enabledelayedexpansion

rem Присвоение переменных
set folder=%~1
set /a number=%~2
set text=Hello World

rem Создание и переход в папку
mkdir "%folder%"
pushd "%folder%"

rem Цикл для создания файлов
for /L %%i in (1,1,%number%) do (
    set myfile=!random!.txt
    set /a n=%%i %% 3

    rem Создание файла
    type nul > "!myfile!"
    if !n! == 0 (
        echo !text! > "!myfile!"
    )
)

popd
endlocal


```
Переменные: folder - название папки, number - количество файлов, text - заданный текст

**sh файл**

```
#!/bin/bash

folder="$1"
number="$2"
text="Hello World"

mkdir "$folder"
cd "$folder" || exit

for ((i=1; i<=number; i++)); do
    myfile="$RANDOM.txt"
    
    touch "$myfile"
    if (( i % 3 == 0 )); then
        echo "$text" > "$myfile"
    fi
done
cd - || exit

```
Переменные: folder - название папки, number - количество файлов, text - заданный текст

Чтобы создать bat file необходимо создать файл в блокноте или любом другом текстовом редакторе, затем при сохранении указать расширение bat и в поле тип файла указать **все файлы**.
Чтобы создать sh file необходимо создать файл в блокноте или любом другом текстовом редакторе, затем при сохранении указать расширение sh.
Далее в командной строке необходимо сделать пакетный файл исполняемым (используем команду chmod +x file.sh)


